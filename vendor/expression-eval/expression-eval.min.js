var expressionEval=function(){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e,r,n=(e=function(e,r){!function(n){var t="MemberExpression",o="Literal",u=function(e,r){var n=new Error(e+" at character "+r);throw n.index=r,n.description=e,n},i={"-":!0,"!":!0,"~":!0,"+":!0},a={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},s=function(e){var r,n=0;for(var t in e)(r=t.length)>n&&e.hasOwnProperty(t)&&(n=r);return n},c=s(i),f=s(a),p={true:!0,false:!1,null:null},l=function(e){return a[e]||0},d=function(e,r,n){return{type:"||"===e||"&&"===e?"LogicalExpression":"BinaryExpression",operator:e,left:r,right:n}},h=function(e){return e>=48&&e<=57},x=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!a[String.fromCharCode(e)]},v=function(e){for(var r,n,s=0,v=e.charAt,y=e.charCodeAt,m=function(r){return v.call(e,r)},E=function(r){return y.call(e,r)},g=e.length,b=function(){for(var e=E(s);32===e||9===e||10===e||13===e;)e=E(++s)},w=function(){var e,r,n=U();return b(),63!==E(s)?n:(s++,(e=w())||u("Expected expression",s),b(),58===E(s)?(s++,(r=w())||u("Expected expression",s),{type:"ConditionalExpression",test:n,consequent:e,alternate:r}):void u("Expected :",s))},C=function(){b();for(var r=e.substr(s,f),n=r.length;n>0;){if(a.hasOwnProperty(r))return s+=n,r;r=r.substr(0,--n)}return!1},U=function(){var e,r,n,t,o,i,a,c;if(i=O(),!(r=C()))return i;for(o={value:r,prec:l(r)},(a=O())||u("Expected expression after "+r,s),t=[i,o,a];(r=C())&&0!==(n=l(r));){for(o={value:r,prec:n};t.length>2&&n<=t[t.length-2].prec;)a=t.pop(),r=t.pop().value,i=t.pop(),e=d(r,i,a),t.push(e);(e=O())||u("Expected expression after "+r,s),t.push(o,e)}for(e=t[c=t.length-1];c>1;)e=d(t[c-1].value,t[c-2],e),c-=2;return e},O=function(){var r,n,t;if(b(),r=E(s),h(r)||46===r)return k();if(39===r||34===r)return A();if(91===r)return M();for(t=(n=e.substr(s,c)).length;t>0;){if(i.hasOwnProperty(n))return s+=t,{type:"UnaryExpression",operator:n,argument:O(),prefix:!0};n=n.substr(0,--t)}return!(!x(r)&&40!==r)&&S()},k=function(){for(var e,r,n="";h(E(s));)n+=m(s++);if(46===E(s))for(n+=m(s++);h(E(s));)n+=m(s++);if("e"===(e=m(s))||"E"===e){for(n+=m(s++),"+"!==(e=m(s))&&"-"!==e||(n+=m(s++));h(E(s));)n+=m(s++);h(E(s-1))||u("Expected exponent ("+n+m(s)+")",s)}return r=E(s),x(r)?u("Variable names cannot start with a number ("+n+m(s)+")",s):46===r&&u("Unexpected period",s),{type:o,value:parseFloat(n),raw:n}},A=function(){for(var e,r="",n=m(s++),t=!1;s<g;){if((e=m(s++))===n){t=!0;break}if("\\"===e)switch(e=m(s++)){case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:r+=e}else r+=e}return t||u('Unclosed quote after "'+r+'"',s),{type:o,value:r,raw:n+r+n}},L=function(){var r,n=E(s),t=s;for(x(n)?s++:u("Unexpected "+m(s),s);s<g&&(n=E(s),36===(i=n)||95===i||i>=65&&i<=90||i>=97&&i<=122||i>=48&&i<=57||i>=128&&!a[String.fromCharCode(i)]);)s++;var i;return r=e.slice(t,s),p.hasOwnProperty(r)?{type:o,value:p[r],raw:r}:"this"===r?{type:"ThisExpression"}:{type:"Identifier",name:r}},P=function(e){for(var r,n,t=[],o=!1;s<g;){if(b(),(r=E(s))===e){o=!0,s++;break}44===r?s++:((n=w())&&"Compound"!==n.type||u("Expected comma",s),t.push(n))}return o||u("Expected "+String.fromCharCode(e),s),t},S=function(){var e,r;for(r=40===(e=E(s))?B():L(),b(),e=E(s);46===e||91===e||40===e;)s++,46===e?(b(),r={type:t,computed:!1,object:r,property:L()}):91===e?(r={type:t,computed:!0,object:r,property:w()},b(),93!==(e=E(s))&&u("Unclosed [",s),s++):40===e&&(r={type:"CallExpression",arguments:P(41),callee:r}),b(),e=E(s);return r},B=function(){s++;var e=w();if(b(),41===E(s))return s++,e;u("Unclosed (",s)},M=function(){return s++,{type:"ArrayExpression",elements:P(93)}},j=[];s<g;)59===(r=E(s))||44===r?s++:(n=w())?j.push(n):s<g&&u('Unexpected "'+m(s)+'"',s);return 1===j.length?j[0]:{type:"Compound",body:j}};v.version="0.3.3",v.toString=function(){return"JavaScript Expression Parser (JSEP) v"+v.version},v.addUnaryOp=function(e){return c=Math.max(e.length,c),i[e]=!0,this},v.addBinaryOp=function(e,r){return f=Math.max(e.length,f),a[e]=r,this},v.addLiteral=function(e,r){return p[e]=r,this},v.removeUnaryOp=function(e){return delete i[e],e.length===c&&(c=s(i)),this},v.removeAllUnaryOps=function(){return i={},c=0,this},v.removeBinaryOp=function(e){return delete a[e],e.length===f&&(f=s(a)),this},v.removeAllBinaryOps=function(){return a={},f=0,this},v.removeLiteral=function(e){return delete p[e],this},v.removeAllLiterals=function(){return p={},this},e.exports?r=e.exports=v:r.parse=v}()},r=void 0,e(r={exports:{}},r.exports),r.exports),t=(n.parse,{"||":function(e,r){return e||r},"&&":function(e,r){return e&&r},"|":function(e,r){return e|r},"^":function(e,r){return e^r},"&":function(e,r){return e&r},"==":function(e,r){return e==r},"!=":function(e,r){return e!=r},"===":function(e,r){return e===r},"!==":function(e,r){return e!==r},"<":function(e,r){return e<r},">":function(e,r){return e>r},"<=":function(e,r){return e<=r},">=":function(e,r){return e>=r},"<<":function(e,r){return e<<r},">>":function(e,r){return e>>r},">>>":function(e,r){return e>>>r},"+":function(e,r){return e+r},"-":function(e,r){return e-r},"*":function(e,r){return e*r},"/":function(e,r){return e/r},"%":function(e,r){return e%r}}),o={"-":function(e){return-e},"+":function(e){return e},"~":function(e){return~e},"!":function(e){return!e}};function u(e,r){return e.map(e=>a(e,r))}function i(e,r){const n=a(e.object,r);return e.computed?[n,n[a(e.property,r)]]:[n,n[e.property.name]]}function a(e,r){switch(e.type){case"ArrayExpression":return u(e.elements,r);case"BinaryExpression":return t[e.operator](a(e.left,r),a(e.right,r));case"CallExpression":let n,s;if("MemberExpression"===e.callee.type?[n,s]=i(e.callee,r):s=a(e.callee,r),"function"!=typeof s)return;return s.apply(n,u(e.arguments,r));case"ConditionalExpression":return a(e.test,r)?a(e.consequent,r):a(e.alternate,r);case"Identifier":return r[e.name];case"Literal":return e.value;case"LogicalExpression":return t[e.operator](a(e.left,r),a(e.right,r));case"MemberExpression":return i(e,r)[1];case"ThisExpression":return r;case"UnaryExpression":return o[e.operator](a(e.argument,r));default:return}}return{parse:n,eval:a,compile:function(e){return a.bind(null,n(e))}}}();
//# sourceMappingURL=expression-eval.min.js.map
